import{Buffer as e}from"https://deno.land/std@0.90.0/node/buffer.ts";!globalThis.Buffer&&Object.defineProperty(globalThis,"Buffer",{value:e,enumerable:!1,writable:!0,configurable:!0}),!globalThis.global&&Object.defineProperty(globalThis,"global",{value:globalThis,writable:!1,enumerable:!1,configurable:!0});import r from"https://deno.land/std@0.90.0/node/process.ts";!globalThis.process&&Object.defineProperty(globalThis,"process",{value:r,enumerable:!1,writable:!0,configurable:!0});var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n="function"==typeof Object.defineProperty?Object.defineProperty:null;var a=function(){try{return n({},"x",{}),!0}catch(e){return!1}},i=Object.defineProperty,o=Object.prototype,u=o.toString,l=o.__defineGetter__,f=o.__defineSetter__,c=o.__lookupGetter__,s=o.__lookupSetter__;var b=function(e,r,t){var n,a,i,b;if("object"!=typeof e||null===e||"[object Array]"===u.call(e))throw new TypeError("invalid argument. First argument must be an object. Value: `"+e+"`.");if("object"!=typeof t||null===t||"[object Array]"===u.call(t))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+t+"`.");if((a="value"in t)&&(c.call(e,r)||s.call(e,r)?(n=e.__proto__,e.__proto__=o,delete e[r],e[r]=t.value,e.__proto__=n):e[r]=t.value),i="get"in t,b="set"in t,a&&(i||b))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return i&&l&&l.call(e,r,t.get),b&&f&&f.call(e,r,t.set),e},m=i,h=b,g=a()?m:h,y=g;var p=function(e,r,t){y(e,r,{configurable:!1,enumerable:!1,writable:!1,value:t})},v=p;var w=function(e){return"number"==typeof e};var d=function(){return"function"==typeof Symbol&&"symbol"==typeof Symbol("foo")}();var E=function(){return d&&"symbol"==typeof Symbol.toStringTag},T=Object.prototype.toString,_=T;var j=function(e){return _.call(e)},A=Object.prototype.hasOwnProperty;var x=function(e,r){return null!=e&&A.call(e,r)},k="function"==typeof Symbol?Symbol.toStringTag:"",V=x,B=k,L=T;var O=j,R=function(e){var r,t,n;if(null==e)return L.call(e);t=e[B],r=V(e,B);try{e[B]=void 0}catch(r){return L.call(e)}return n=L.call(e),r?e[B]=t:delete e[B],n},S=E()?R:O,P=Number,F=P.prototype.toString;var M=S,N=P,C=function(e){try{return F.call(e),!0}catch(e){return!1}},I=E();var Y=function(e){return"object"==typeof e&&(e instanceof N||(I?C(e):"[object Number]"===M(e)))},G=w,W=Y;var J=v,X=function(e){return G(e)||W(e)},U=Y;J(X,"isPrimitive",w),J(X,"isObject",U);var q=X,z=Number.POSITIVE_INFINITY,D=P.NEGATIVE_INFINITY,H=Math.floor;var K=function(e){return H(e)===e},Q=z,Z=D,$=K;var ee=function(e){return e<Q&&e>Z&&$(e)},re=q.isPrimitive,te=ee;var ne=function(e){return re(e)&&te(e)},ae=q.isObject,ie=ee;var oe=function(e){return ae(e)&&ie(e.valueOf())},ue=ne,le=oe;var fe=v,ce=function(e){return ue(e)||le(e)},se=oe;fe(ce,"isPrimitive",ne),fe(ce,"isObject",se);var be=ce.isPrimitive;var me=function(e){return be(e)&&e>=0},he=ce.isObject;var ge=function(e){return he(e)&&e.valueOf()>=0},ye=me,pe=ge;var ve=v,we=function(e){return ye(e)||pe(e)},de=ge;ve(we,"isPrimitive",me),ve(we,"isObject",de);var Ee=we,Te=K;var _e=function(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&Te(e.length)&&e.length>=0&&e.length<=4294967295},je=K;var Ae=function(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&je(e.length)&&e.length>=0&&e.length<=9007199254740991},xe=S,ke="function"==typeof ArrayBuffer;var Ve=function(e){return ke&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===xe(e)},Be=S;var Le=Array.isArray?Array.isArray:function(e){return"[object Array]"===Be(e)},Oe=Le;var Re=function(e){return"object"==typeof e&&null!==e&&!Oe(e)},Se=/./;var Pe=function(e){return"boolean"==typeof e},Fe=Boolean.prototype.toString;var Me=S,Ne=function(e){try{return Fe.call(e),!0}catch(e){return!1}},Ce=E();var Ie=function(e){return"object"==typeof e&&(e instanceof Boolean||(Ce?Ne(e):"[object Boolean]"===Me(e)))},Ye=Pe,Ge=Ie;var We=v,Je=function(e){return Ye(e)||Ge(e)},Xe=Ie;We(Je,"isPrimitive",Pe),We(Je,"isObject",Xe);var Ue="object"==typeof self?self:null,qe="object"==typeof window?window:null,ze=Je.isPrimitive,De=function(){return new Function("return this;")()},He=Ue,Ke=qe,Qe="object"==typeof t?t:null;var Ze=function(e){if(arguments.length){if(!ze(e))throw new TypeError("invalid argument. Must provide a boolean primitive. Value: `"+e+"`.");if(e)return De()}if(He)return He;if(Ke)return Ke;if(Qe)return Qe;throw new Error("unexpected error. Unable to resolve global object.")},$e=Ze(),er=$e.document&&$e.document.childNodes,rr=Int8Array,tr=Se,nr=er,ar=rr;var ir=function(){return"function"==typeof tr||"object"==typeof ar||"function"==typeof nr};var or=function(){return/^\s*function\s*([^(]*)/i},ur=or;v(ur,"REGEXP",or());var lr=ur,fr=Le;var cr=function(e){return null!==e&&"object"==typeof e};v(cr,"isObjectLikeArray",function(e){if("function"!=typeof e)throw new TypeError("invalid argument. Must provide a function. Value: `"+e+"`.");return function(r){var t,n;if(!fr(r))return!1;if(0===(t=r.length))return!1;for(n=0;n<t;n++)if(!1===e(r[n]))return!1;return!0}}(cr));var sr=cr;var br=S,mr=lr.REGEXP,hr=function(e){return sr(e)&&(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))};var gr=function(e){var r,t,n;if(("Object"===(t=br(e).slice(8,-1))||"Error"===t)&&e.constructor){if("string"==typeof(n=e.constructor).name)return n.name;if(r=mr.exec(n.toString()))return r[1]}return hr(e)?"Buffer":t},yr=gr;var pr=gr;var vr=function(e){var r;return null===e?"null":"object"===(r=typeof e)?yr(e).toLowerCase():r},wr=function(e){return pr(e).toLowerCase()},dr=ir()?wr:vr;var Er=function(e){return"function"===dr(e)};var Tr=q.isPrimitive,_r=g,jr=v,Ar=function(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i"},xr=function(){var e={type:"Complex128"};return e.re=this.re,e.im=this.im,e};function kr(e,r){if(!(this instanceof kr))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!Tr(e))throw new TypeError("invalid argument. Real component must be a number primitive. Value: `"+e+"`.");if(!Tr(r))throw new TypeError("invalid argument. Imaginary component must be a number primitive. Value: `"+r+"`.");return _r(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:e}),_r(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:r}),this}jr(kr,"BYTES_PER_ELEMENT",8),jr(kr.prototype,"BYTES_PER_ELEMENT",8),jr(kr.prototype,"byteLength",16),jr(kr.prototype,"toString",Ar),jr(kr.prototype,"toJSON",xr);var Vr=kr,Br=S,Lr="function"==typeof Float32Array;var Or="function"==typeof Float32Array?Float32Array:null,Rr=function(e){return Lr&&e instanceof Float32Array||"[object Float32Array]"===Br(e)},Sr=z,Pr=Or;var Fr="function"==typeof Float32Array?Float32Array:void 0,Mr=function(){throw new Error("not implemented")},Nr=function(){var e,r;if("function"!=typeof Pr)return!1;try{r=new Pr([1,3.14,-3.14,5e40]),e=Rr(r)&&1===r[0]&&3.140000104904175===r[1]&&-3.140000104904175===r[2]&&r[3]===Sr}catch(r){e=!1}return e}()?Fr:Mr;var Cr=q.isPrimitive,Ir=g,Yr=v,Gr=Nr,Wr=function(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i"},Jr=function(){var e={type:"Complex64"};return e.re=this.re,e.im=this.im,e};function Xr(e,r){var t;if(!(this instanceof Xr))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!Cr(e))throw new TypeError("invalid argument. Real component must be a number primitive. Value: `"+e+"`.");if(!Cr(r))throw new TypeError("invalid argument. Imaginary component must be a number primitive. Value: `"+r+"`.");return Ir(this,"re",{configurable:!1,enumerable:!0,get:function(){return t[0]}}),Ir(this,"im",{configurable:!1,enumerable:!0,get:function(){return t[1]}}),(t=new Gr(2))[0]=e,t[1]=r,this}Yr(Xr,"BYTES_PER_ELEMENT",4),Yr(Xr.prototype,"BYTES_PER_ELEMENT",4),Yr(Xr.prototype,"byteLength",8),Yr(Xr.prototype,"toString",Wr),Yr(Xr.prototype,"toJSON",Jr);var Ur=Xr,qr=Vr,zr=Ur;var Dr=function(e){return e instanceof qr||e instanceof zr||"object"==typeof e&&null!==e&&"number"==typeof e.re&&"number"==typeof e.im},Hr=K;var Kr=function(e){return Hr(e/2)},Qr=x;var Zr=function(){return"function"==typeof Symbol&&"symbol"==typeof Symbol("foo")&&Qr(Symbol,"iterator")&&"symbol"==typeof Symbol.iterator},$r=Zr()?Symbol.iterator:null,et=S,rt="function"==typeof Float64Array;var tt="function"==typeof Float64Array?Float64Array:null,nt=function(e){return rt&&e instanceof Float64Array||"[object Float64Array]"===et(e)},at=tt;var it,ot="function"==typeof Float64Array?Float64Array:void 0,ut=function(){throw new Error("not implemented")};it=function(){var e,r;if("function"!=typeof at)return!1;try{r=new at([1,3.14,-3.14,NaN]),e=nt(r)&&1===r[0]&&3.14===r[1]&&-3.14===r[2]&&r[3]!=r[3]}catch(r){e=!1}return e}()?ot:ut;var lt=function(e){return e.re};var ft=function(e){return e.im},ct=_e,st=Dr,bt=lt,mt=ft;var ht=_e,gt=Dr,yt=lt,pt=ft;var vt=Dr,wt=lt,dt=ft;var Et=Ee.isPrimitive,Tt=_e,_t=Ae,jt=Ve,At=Re,xt=Le,kt=Er,Vt=Dr,Bt=Kr,Lt=K,Ot=Zr,Rt=$r,St=g,Pt=it,Ft=Vr,Mt=lt,Nt=ft,Ct=function(e){var r,t;for(r=[];;){if((t=e.next()).value)if(ct(t.value))r.push(t.value[0],t.value[1]);else{if(!st(t.value))return new TypeError("invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `"+t.value+"`.");r.push(bt(t.value),mt(t.value))}if(t.done)break}return r},It=function(e,r,t){var n,a,i;for(n=[],i=0;;){if(i+=1,(a=e.next()).value)if(a=r.call(t,a.value,i),ht(a))n.push(a[0],a[1]);else{if(!gt(a))return new TypeError("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `"+a+"`.");n.push(yt(a),pt(a))}if(a.done)break}return n},Yt=function(e,r){var t,n,a,i;for(t=r.length,i=0,a=0;a<t;a++){if(n=r[a],!vt(n))return null;e[i]=wt(n),e[i+1]=dt(n),i+=2}return e},Gt=2*Pt.BYTES_PER_ELEMENT,Wt=Ot();function Jt(e){return e instanceof Ut||"object"==typeof e&&null!==e&&("Complex64Array"===e.constructor.name||"Complex128Array"===e.constructor.name)&&"number"==typeof e._length&&"object"==typeof e._buffer}function Xt(e){return e===Ut||"Complex64Array"===e.name}function Ut(){var e,r,t,n;if(r=arguments.length,!(this instanceof Ut))return 0===r?new Ut:1===r?new Ut(arguments[0]):2===r?new Ut(arguments[0],arguments[1]):new Ut(arguments[0],arguments[1],arguments[2]);if(0===r)t=new Pt(0);else if(1===r)if(Et(arguments[0]))t=new Pt(2*arguments[0]);else if(_t(arguments[0]))if((n=(t=arguments[0]).length)&&xt(t)&&Vt(t[0])){if(null===(t=Yt(new Pt(2*n),t))){if(!Bt(n))throw new RangeError("invalid argument. Array-like object input arguments must have a length which is a multiple of two. Length: `"+n+"`.");t=new Pt(arguments[0])}}else{if(!Bt(n))throw new RangeError("invalid argument. Array-like object and typed array input arguments must have a length which is a multiple of two. Length: `"+n+"`.");t=new Pt(t)}else if(jt(arguments[0])){if(!Lt((t=arguments[0]).byteLength/Gt))throw new RangeError("invalid argument. ArrayBuffer byte length must be a multiple of "+Gt+". Byte length: `"+t.byteLength+"`.");t=new Pt(t)}else{if(!At(arguments[0]))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `"+arguments[0]+"`.");if(t=arguments[0],!1===Wt)throw new TypeError("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `"+t+"`.");if(!kt(t[Rt]))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `"+t+"`.");if(t=t[Rt](),!kt(t.next))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable.");if((t=Ct(t))instanceof Error)throw t;t=new Pt(t)}else{if(!jt(t=arguments[0]))throw new TypeError("invalid argument. First argument must be an array buffer. Value: `"+t+"`.");if(!Et(e=arguments[1]))throw new TypeError("invalid argument. Byte offset must be a nonnegative integer. Value: `"+e+"`.");if(!Lt(e/Gt))throw new RangeError("invalid argument. Byte offset must be a multiple of "+Gt+". Value: `"+e+"`.");if(2===r){if(n=t.byteLength-e,!Lt(n/Gt))throw new RangeError("invalid arguments. ArrayBuffer view byte length must be a multiple of "+Gt+". View byte length: `"+n+"`.");t=new Pt(t,e)}else{if(!Et(n=arguments[2]))throw new TypeError("invalid argument. Length must be a nonnegative integer. Value: `"+n+"`.");if(n*Gt>t.byteLength-e)throw new RangeError("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `"+n*Gt+"`.");t=new Pt(t,e,2*n)}}return St(this,"_buffer",{configurable:!1,enumerable:!1,writable:!1,value:t}),St(this,"_length",{configurable:!1,enumerable:!1,writable:!1,value:t.length/2}),this}St(Ut,"BYTES_PER_ELEMENT",{configurable:!1,enumerable:!1,writable:!1,value:Gt}),St(Ut,"name",{configurable:!1,enumerable:!1,writable:!1,value:"Complex128Array"}),St(Ut,"from",{configurable:!1,enumerable:!1,writable:!1,value:function(e){var r,t,n,a,i,o,u,l,f,c,s;if(!kt(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Xt(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if((t=arguments.length)>1){if(!kt(n=arguments[1]))throw new TypeError("invalid argument. Second argument must be a function. Value: `"+n+"`.");t>2&&(r=arguments[2])}if(_t(e))if(n){for(u=e.length,c=0;c<u;c++)if(!Vt(e[c])){l=!0;break}if(l){if(!Bt(u))throw new RangeError("invalid argument. First argument must have a length which is a multiple of two. Length: `"+u+"`.");for(i=(a=new this(u/2))._buffer,c=0;c<u;c++)i[c]=n.call(r,e[c],c)}else for(i=(a=new this(u))._buffer,s=0,c=0;c<u;c++){if(f=n.call(r,e[c],c),Vt(f))i[s]=Mt(f),i[s+1]=Nt(f);else{if(!Tt(f))throw new TypeError("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `"+f+"`.");i[s]=f[0],i[s+1]=f[1]}s+=2}}else a=new this(e);else{if(!(At(e)&&Wt&&kt(e[Rt])))throw new TypeError("invalid argument. First argument must be an array-like object or an iterable. Value: `"+e+"`.");if(i=e[Rt](),!kt(i.next))throw new TypeError("invalid argument. First argument must be an array-like object or an iterable.");if((o=n?It(i,n,r):Ct(i))instanceof Error)throw o;for(i=(a=new this(u=o.length/2))._buffer,c=0;c<u;c++)i[c]=o[c]}return a}}),St(Ut,"of",{configurable:!1,enumerable:!1,writable:!1,value:function(){var e,r;if(!kt(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Xt(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);return new this(e)}}),St(Ut.prototype,"buffer",{configurable:!1,enumerable:!1,get:function(){return this._buffer.buffer}}),St(Ut.prototype,"byteLength",{configurable:!1,enumerable:!1,get:function(){return this._buffer.byteLength}}),St(Ut.prototype,"byteOffset",{configurable:!1,enumerable:!1,get:function(){return this._buffer.byteOffset}}),St(Ut.prototype,"BYTES_PER_ELEMENT",{configurable:!1,enumerable:!1,writable:!1,value:Ut.BYTES_PER_ELEMENT}),St(Ut.prototype,"get",{configurable:!1,enumerable:!1,writable:!1,value:function(e){var r,t,n;if(!Jt(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,arguments.length>1){if(r=arguments[1],!Tt(t=e)||t.length<2)throw new TypeError("invalid argument. Output argument must be an array-like object. Value: `"+t+"`.")}else r=e;if(!Et(r))throw new TypeError("invalid argument. Index argument must be a nonnegative integer. Value: `"+r+"`.");if(!(r>=this._length))return r*=2,t?(t[0]=n[r],t[1]=n[r+1],t):new Ft(n[r],n[r+1])}}),St(Ut.prototype,"length",{configurable:!1,enumerable:!1,get:function(){return this._length}}),St(Ut.prototype,"set",{configurable:!1,enumerable:!1,writable:!1,value:function(e){var r,t,n,a,i,o,u,l,f;if(!Jt(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,arguments.length>1){if(!Et(t=arguments[1]))throw new TypeError("invalid argument. Index argument must be a nonnegative integer. Value: `"+t+"`.")}else t=0;if(Vt(e)){if(t>=this._length)throw new RangeError("invalid argument. Index argument is out-of-bounds. Value: `"+t+"`.");return n[t*=2]=Mt(e),void(n[t+1]=Nt(e))}if(Jt(e)){if(t+(o=e._length)>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(r=e._buffer,f=n.byteOffset+t*Gt,r.buffer===n.buffer&&r.byteOffset<f&&r.byteOffset+r.byteLength>f){for(a=new Pt(r.length),l=0;l<r.length;l++)a[l]=r[l];r=a}for(t*=2,f=0,l=0;l<o;l++)n[t]=r[f],n[t+1]=r[f+1],t+=2,f+=2}else{if(!_t(e))throw new TypeError("invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `"+e+"`.");for(o=e.length,l=0;l<o;l++)if(!Vt(e[l])){i=!0;break}if(i){if(!Bt(o))throw new RangeError("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `"+o+"`.");if(t+o/2>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(r=e,f=n.byteOffset+t*Gt,r.buffer===n.buffer&&r.byteOffset<f&&r.byteOffset+r.byteLength>f){for(a=new Pt(o),l=0;l<o;l++)a[l]=r[l];r=a}for(t*=2,o/=2,f=0,l=0;l<o;l++)n[t]=r[f],n[t+1]=r[f+1],t+=2,f+=2;return}if(t+o>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");for(t*=2,l=0;l<o;l++)u=e[l],n[t]=Mt(u),n[t+1]=Nt(u),t+=2}}});var qt=Ut,zt=_e,Dt=Dr,Ht=lt,Kt=ft;var Qt=_e,Zt=Dr,$t=lt,en=ft;var rn=Dr,tn=lt,nn=ft;var an=Ee.isPrimitive,on=_e,un=Ae,ln=Ve,fn=Re,cn=Le,sn=Er,bn=Dr,mn=Kr,hn=K,gn=Zr,yn=$r,pn=g,vn=Nr,wn=Ur,dn=lt,En=ft,Tn=function(e){var r,t,n;for(r=[];;){if(n=(t=e.next()).value)if(zt(n)&&n.length>=2)r.push(n[0],n[1]);else{if(!Dt(n))return new TypeError("invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `"+n+"`.");r.push(Ht(n),Kt(n))}if(t.done)break}return r},_n=function(e,r,t){var n,a,i,o;for(n=[],o=-1;;){if(o+=1,i=(a=e.next()).value)if(i=r.call(t,i,o),Qt(i)&&i.length>=2)n.push(i[0],i[1]);else{if(!Zt(i))return new TypeError("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `"+i+"`.");n.push($t(i),en(i))}if(a.done)break}return n},jn=function(e,r){var t,n,a,i;for(t=r.length,i=0,a=0;a<t;a++){if(n=r[a],!rn(n))return null;e[i]=tn(n),e[i+1]=nn(n),i+=2}return e},An=2*vn.BYTES_PER_ELEMENT,xn=gn();function kn(e){return e instanceof Bn||"object"==typeof e&&null!==e&&("Complex64Array"===e.constructor.name||"Complex128Array"===e.constructor.name)&&"number"==typeof e._length&&"object"==typeof e._buffer}function Vn(e){return e===Bn||"Complex128Array"===e.name}function Bn(){var e,r,t,n;if(r=arguments.length,!(this instanceof Bn))return 0===r?new Bn:1===r?new Bn(arguments[0]):2===r?new Bn(arguments[0],arguments[1]):new Bn(arguments[0],arguments[1],arguments[2]);if(0===r)t=new vn(0);else if(1===r)if(an(arguments[0]))t=new vn(2*arguments[0]);else if(un(arguments[0]))if((n=(t=arguments[0]).length)&&cn(t)&&bn(t[0])){if(null===(t=jn(new vn(2*n),t))){if(!mn(n))throw new RangeError("invalid argument. Array-like object input arguments must have a length which is a multiple of two. Length: `"+n+"`.");t=new vn(arguments[0])}}else{if(!mn(n))throw new RangeError("invalid argument. Array-like object and typed array input arguments must have a length which is a multiple of two. Length: `"+n+"`.");t=new vn(t)}else if(ln(arguments[0])){if(!hn((t=arguments[0]).byteLength/An))throw new RangeError("invalid argument. ArrayBuffer byte length must be a multiple of "+An+". Byte length: `"+t.byteLength+"`.");t=new vn(t)}else{if(!fn(arguments[0]))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `"+arguments[0]+"`.");if(t=arguments[0],!1===xn)throw new TypeError("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `"+t+"`.");if(!sn(t[yn]))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `"+t+"`.");if(t=t[yn](),!sn(t.next))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable.");if((t=Tn(t))instanceof Error)throw t;t=new vn(t)}else{if(!ln(t=arguments[0]))throw new TypeError("invalid argument. First argument must be an array buffer. Value: `"+t+"`.");if(!an(e=arguments[1]))throw new TypeError("invalid argument. Byte offset must be a nonnegative integer. Value: `"+e+"`.");if(!hn(e/An))throw new RangeError("invalid argument. Byte offset must be a multiple of "+An+". Value: `"+e+"`.");if(2===r){if(n=t.byteLength-e,!hn(n/An))throw new RangeError("invalid arguments. ArrayBuffer view byte length must be a multiple of "+An+". View byte length: `"+n+"`.");t=new vn(t,e)}else{if(!an(n=arguments[2]))throw new TypeError("invalid argument. Length must be a nonnegative integer. Value: `"+n+"`.");if(n*An>t.byteLength-e)throw new RangeError("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `"+n*An+"`.");t=new vn(t,e,2*n)}}return pn(this,"_buffer",{configurable:!1,enumerable:!1,writable:!1,value:t}),pn(this,"_length",{configurable:!1,enumerable:!1,writable:!1,value:t.length/2}),this}pn(Bn,"BYTES_PER_ELEMENT",{configurable:!1,enumerable:!1,writable:!1,value:An}),pn(Bn,"name",{configurable:!1,enumerable:!1,writable:!1,value:"Complex64Array"}),pn(Bn,"from",{configurable:!1,enumerable:!1,writable:!1,value:function(e){var r,t,n,a,i,o,u,l,f,c,s;if(!sn(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Vn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if((t=arguments.length)>1){if(!sn(n=arguments[1]))throw new TypeError("invalid argument. Second argument must be a function. Value: `"+n+"`.");t>2&&(r=arguments[2])}if(un(e))if(n){for(u=e.length,c=0;c<u;c++)if(!bn(e[c])){l=!0;break}if(l){if(!mn(u))throw new RangeError("invalid argument. First argument must have a length which is a multiple of two. Length: `"+u+"`.");for(i=(a=new this(u/2))._buffer,c=0;c<u;c++)i[c]=n.call(r,e[c],c)}else for(i=(a=new this(u))._buffer,s=0,c=0;c<u;c++){if(f=n.call(r,e[c],c),bn(f))i[s]=dn(f),i[s+1]=En(f);else{if(!(on(f)&&f.length>=2))throw new TypeError("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `"+f+"`.");i[s]=f[0],i[s+1]=f[1]}s+=2}}else a=new this(e);else{if(!(fn(e)&&xn&&sn(e[yn])))throw new TypeError("invalid argument. First argument must be an array-like object or an iterable. Value: `"+e+"`.");if(i=e[yn](),!sn(i.next))throw new TypeError("invalid argument. First argument must be an array-like object or an iterable.");if((o=n?_n(i,n,r):Tn(i))instanceof Error)throw o;for(i=(a=new this(u=o.length/2))._buffer,c=0;c<u;c++)i[c]=o[c]}return a}}),pn(Bn,"of",{configurable:!1,enumerable:!1,writable:!1,value:function(){var e,r;if(!sn(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Vn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);return new this(e)}}),pn(Bn.prototype,"buffer",{configurable:!1,enumerable:!1,get:function(){return this._buffer.buffer}}),pn(Bn.prototype,"byteLength",{configurable:!1,enumerable:!1,get:function(){return this._buffer.byteLength}}),pn(Bn.prototype,"byteOffset",{configurable:!1,enumerable:!1,get:function(){return this._buffer.byteOffset}}),pn(Bn.prototype,"BYTES_PER_ELEMENT",{configurable:!1,enumerable:!1,writable:!1,value:Bn.BYTES_PER_ELEMENT}),pn(Bn.prototype,"copyWithin",{configurable:!1,enumerable:!1,writable:!1,value:function(e,r){if(!kn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return 2===arguments.length?this._buffer.copyWithin(2*e,2*r):this._buffer.copyWithin(2*e,2*r,2*arguments[2]),this}}),pn(Bn.prototype,"entries",{configurable:!1,enumerable:!1,writable:!1,value:function(){var e,r,t,n,a,i,o;if(!kn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return r=this,e=this._buffer,n=this._length,i=-1,o=-2,pn(t={},"next",{configurable:!1,enumerable:!1,writable:!1,value:function(){var r;if(i+=1,a||i>=n)return{done:!0};return r=new wn(e[o+=2],e[o+1]),{value:[i,r],done:!1}}}),pn(t,"return",{configurable:!1,enumerable:!1,writable:!1,value:function(e){if(a=!0,arguments.length)return{value:e,done:!0};return{done:!0}}}),yn&&pn(t,yn,{configurable:!1,enumerable:!1,writable:!1,value:function(){return r.entries()}}),t}}),pn(Bn.prototype,"get",{configurable:!1,enumerable:!1,writable:!1,value:function(e){var r,t,n;if(!kn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,arguments.length>1){if(r=arguments[1],!on(t=e)||t.length<2)throw new TypeError("invalid argument. Output argument must be an array-like object. Value: `"+t+"`.")}else r=e;if(!an(r))throw new TypeError("invalid argument. Index argument must be a nonnegative integer. Value: `"+r+"`.");if(!(r>=this._length))return r*=2,t?(t[0]=n[r],t[1]=n[r+1],t):new wn(n[r],n[r+1])}}),pn(Bn.prototype,"length",{configurable:!1,enumerable:!1,get:function(){return this._length}}),pn(Bn.prototype,"set",{configurable:!1,enumerable:!1,writable:!1,value:function(e){var r,t,n,a,i,o,u,l,f;if(!kn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,arguments.length>1){if(!an(t=arguments[1]))throw new TypeError("invalid argument. Index argument must be a nonnegative integer. Value: `"+t+"`.")}else t=0;if(bn(e)){if(t>=this._length)throw new RangeError("invalid argument. Index argument is out-of-bounds. Value: `"+t+"`.");return n[t*=2]=dn(e),void(n[t+1]=En(e))}if(kn(e)){if(t+(o=e._length)>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(r=e._buffer,f=n.byteOffset+t*An,r.buffer===n.buffer&&r.byteOffset<f&&r.byteOffset+r.byteLength>f){for(a=new vn(r.length),l=0;l<r.length;l++)a[l]=r[l];r=a}for(t*=2,f=0,l=0;l<o;l++)n[t]=r[f],n[t+1]=r[f+1],t+=2,f+=2}else{if(!un(e))throw new TypeError("invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `"+e+"`.");for(o=e.length,l=0;l<o;l++)if(!bn(e[l])){i=!0;break}if(i){if(!mn(o))throw new RangeError("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `"+o+"`.");if(t+o/2>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(r=e,f=n.byteOffset+t*An,r.buffer===n.buffer&&r.byteOffset<f&&r.byteOffset+r.byteLength>f){for(a=new vn(o),l=0;l<o;l++)a[l]=r[l];r=a}for(t*=2,o/=2,f=0,l=0;l<o;l++)n[t]=r[f],n[t+1]=r[f+1],t+=2,f+=2;return}if(t+o>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");for(t*=2,l=0;l<o;l++)u=e[l],n[t]=dn(u),n[t+1]=En(u),t+=2}}});var Ln={complex128:qt,complex64:Bn};var On=function(e){return Ln[e]||null};export{On as default};
